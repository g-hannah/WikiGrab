Fix bug that is resulting in the article being heavily truncated.

Rewrite __nested_closing_char() as current implementation very buggy
